<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Tipe Jenius Anak</title>
    
    <!-- 1. Memuat Font dari Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Noto+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- 2. Memuat Tailwind CSS untuk Styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 3. Memuat Pustaka React -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 4. Memuat Babel untuk menjalankan JSX di Browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style type="text/tailwindcss">
        /* Menambahkan font kustom ke Tailwind */
        body {
          font-family: 'Noto Sans', sans-serif;
          background-color: #f9fafb; /* bg-gray-50 */
        }
        .font-header {
          font-family: 'Fredoka', sans-serif;
        }
        .font-content {
          font-family: 'Noto Sans', sans-serif;
        }
        h1, h2, h3, h4, h5, h6 {
          font-family: 'Fredoka', sans-serif;
        }
        .animate-fade-in { 
          animation: fadeIn 0.5s ease-in-out; 
        }
        @keyframes fadeIn { 
          from { opacity: 0; transform: translateY(10px); } 
          to { opacity: 1; transform: translateY(0); } 
        }
    </style>
</head>
<body>

    <!-- Wadah untuk aplikasi React kita -->
    <div id="root"></div>

    <!-- 5. Kode Aplikasi React Anda -->
    <script type="text/babel">
    
    const { useState } = React;

    // --- Data untuk Kuis dan Hasil (Bahasa Indonesia) ---

    const quizData = [
      {
        id: 'q1',
        question: "Saat punya waktu bebas di rumah, biasanya anak Andaâ€¦",
        options: {
          A: { text: "Suka bongkar pasang mainan, bikin sesuatu, atau utak-atik barang ğŸ”§", type: "R" },
          B: { text: "Asyik menggambar, bikin cerita, atau pura-pura jadi karakter ğŸ¨", type: "A" },
          C: { text: "Bertanya hal-hal unik seperti â€œKenapa langit warnanya biru?â€ ğŸ”", type: "I" },
          D: { text: "Menyusun mainan sesuai warna, ukuran, atau bentuk ğŸ“Š", type: "C" },
        }
      },
      {
        id: 'q2',
        question: "Kalau anak Anda dapat tugas baru, biasanya merekaâ€¦",
        options: {
          A: { text: "Menyelesaikannya dengan cara kreatif dan beda dari yang lain âœ¨", type: "A" },
          B: { text: "Langsung ambil peran untuk ngatur atau memimpin teman-temannya ğŸ”Š", type: "E" },
          C: { text: "Banyak tanya dulu atau cari tahu sebelum mulai ğŸ”", type: "I" },
          D: { text: "Bantu teman lain biar ngerti cara ngerjainnya ğŸ‘©â€ğŸ«", type: "S" },
        }
      },
      {
        id: 'q3',
        question: "Kalau ada proyek sekolah, anak Anda lebih cenderungâ€¦",
        options: {
          A: { text: "Punya ide unik yang belum terpikirkan oleh teman-temannya ğŸ’¡", type: "A" },
          B: { text: "Semangat untuk menjadi yang presentasi di depan kelas ğŸ¤", type: "E" },
          C: { text: "Fokus ngumpulin data dan nyusun semuanya dengan rapi ğŸ“‹", type: "C" },
          D: { text: "Bikin model atau prakarya langsung dengan tangannya ğŸ› ï¸", type: "R" },
        }
      },
      {
        id: 'q4',
        question: "Anak Anda paling semangat kalauâ€¦",
        options: {
          A: { text: "Bisa bantu teman atau saudaranya yang lagi kesulitan ğŸ’¬", type: "S" },
          B: { text: "Dikasih waktu buat berimajinasi dan bikin sesuatu sendiri ğŸ–Œï¸", type: "A" },
          C: { text: "Diberi tantangan seperti teka-teki atau permainan logika ğŸ§©", type: "I" },
          D: { text: "Main di luar rumah, eksplorasi, atau aktivitas fisik ğŸ§±", type: "R" },
        }
      },
      {
        id: 'q5',
        question: "Saat ikut kegiatan bareng teman-temannya, anak Anda biasanyaâ€¦",
        options: {
          A: { text: "Ambil peran jadi pemimpin dan ngatur jalannya kegiatan ğŸ“£", type: "E" },
          B: { text: "Bikin semua teman merasa dilibatkan dan nyaman ğŸ˜Š", type: "S" },
          C: { text: "Fokus biar kegiatan berjalan sesuai urutan dan aturan âœ…", type: "C" },
          D: { text: "Lebih diam, tapi kasih ide setelah berpikir matang ğŸ¤”", type: "I" },
        }
      },
      {
        id: 'q6',
        question: "Kalau diminta bikin sesuatu untuk seru-seruan, anak Anda akanâ€¦",
        options: {
          A: { text: "Buat sesuatu yang bisa langsung dimainkan atau dipakai âš™ï¸", type: "R" },
          B: { text: "Mendesain sesuatu yang cantik, lucu, atau unik ğŸ­", type: "A" },
          C: { text: "Coba 'jual' hasil karyanya ke orang tua atau temannya ğŸ›ï¸", type: "E" },
          D: { text: "Labelin dan nyusun semua bagian dengan urutan yang rapi ğŸ—‚ï¸", type: "C" },
        }
      }
    ];

    const resultData = {
      R: {
        image: "https://placehold.co/600x600/f87171/ffffff?text=Realistic\n(R)",
        headline: "ğŸ”§ (R) â€“ SI AKTIF & PRAKTIS",
        intro: "Anak Anda menunjukkan tipe Realistic â€” penuh energi, suka bergerak, dan belajar paling cepat saat bisa langsung praktik.",
        strengths: { title: "Apa kekuatan anak tipe Realistic?", points: ["ğŸ§ª Suka bereksperimen, membongkar, dan menyusun ulang.", "ğŸƒ Belajar paling efektif lewat aktivitas nyata dan praktik langsung.", "âš¡ Semangat saat bisa 'terjun langsung' dan belajar sambil bergerak."] },
        challenges: { title: "Apa yang mungkin jadi tantangan?", points: ["â³ Kadang kurang sabar dalam kerja kelompok.", "ğŸ—£ï¸ Sulit mengekspresikan perasaan secara verbal.", "ğŸ—ºï¸ Cenderung ingin langsung mulai tanpa banyak diskusi atau perencanaan."] }
      },
      A: {
        image: "https://placehold.co/600x600/60a5fa/ffffff?text=Artistic\n(A)",
        headline: "ğŸ¨ (A) â€“ SI IMAJINATIF & EKSPRESIF",
        intro: "Anak Anda menunjukkan tipe Artistic â€” penuh ide, suka berkreasi, dan senang mengekspresikan diri.",
        strengths: { title: "Apa kekuatan anak tipe Artistic?", points: ["ğŸ­ Senang menggambar, bercerita, dan bermain peran.", "ğŸ’¡ Imajinasi mereka kuat, unik, dan out-of-the-box.", "ğŸ’– Sangat sensitif dan ekspresif dalam menyampaikan perasaan."] },
        challenges: { title: "Apa yang mungkin jadi tantangan?", points: ["ğŸ—“ï¸ Cenderung spontan dan kadang kesulitan mengikuti struktur atau jadwal.", "ğŸ¯ Butuh bimbingan untuk menyusun ide-ide kreatif menjadi langkah yang konkret."] }
      },
      I: {
        image: "https://placehold.co/600x600/34d399/ffffff?text=Investigative\n(I)",
        headline: "ğŸ” (I) â€“ SI PENASARAN & ANALITIS",
        intro: "Anak Anda menunjukkan tipe Investigative â€” suka bertanya â€œkenapa?â€, senang berpikir dalam, dan menikmati tantangan intelektual.",
        strengths: { title: "Apa kekuatan anak tipe Investigative?", points: ["ğŸ“š Senang membaca, menyelidiki, dan menyusun informasi.", "ğŸ§  Mandiri dalam berpikir dan suka memecahkan masalah logis.", "ğŸ§© Menikmati teka-teki atau tantangan yang membutuhkan analisis."] },
        challenges: { title: "Apa yang mungkin jadi tantangan?", points: ["ğŸ¤ Kadang enggan tampil di depan umum atau memimpin kelompok.", "ğŸ’¬ Butuh waktu dan dukungan untuk lebih percaya diri saat menyampaikan ide."] }
      },
      S: {
        image: "https://placehold.co/600x600/fbbf24/ffffff?text=Social\n(S)",
        headline: "ğŸ¤ (S) â€“ SI EMPATIK & PENOLONG",
        intro: "Anak Anda menunjukkan tipe Social â€” suka membantu, mudah akrab, dan punya empati tinggi.",
        strengths: { title: "Apa kekuatan anak tipe Social?", points: ["ğŸ˜Š Ramah, cepat akrab, dan peduli pada perasaan orang lain.", "ğŸ™Œ Senang bekerja sama dan membuat suasana jadi nyaman.", "ğŸ’– Punya empati yang tinggi dan suka membantu sesama."] },
        challenges: { title: "Apa yang mungkin jadi tantangan?", points: ["ğŸ‘¤ Bisa merasa kurang percaya diri saat harus menyelesaikan tugas individu.", "âš™ï¸ Kadang merasa takut gagal saat menghadapi tantangan teknis."] }
      },
      E: {
        image: "https://placehold.co/600x600/c084fc/ffffff?text=Enterprising\n(E)",
        headline: "ğŸ“£ (E) â€“ SI PEMIMPIN & INISIATOR",
        intro: "Anak Anda menunjukkan tipe Enterprising â€” percaya diri, penuh inisiatif, dan cepat ambil peran.",
        strengths: { title: "Apa kekuatan anak tipe Enterprising?", points: ["ğŸŒŸ Suka tampil, mengatur kelompok, dan menyampaikan ide.", "ğŸ’ª Berani mengambil keputusan dan punya jiwa kepemimpinan yang kuat.", "ğŸš€ Penuh inisiatif dan persuasif."] },
        challenges: { title: "Apa yang mungkin jadi tantangan?", points: ["ğŸ” Kadang kurang sabar dengan proses yang panjang.", "ğŸ¯ Terlalu fokus pada hasil akhir sehingga bisa melewatkan detail penting."] }
      },
      C: {
        image: "https://placehold.co/600x600/9ca3af/ffffff?text=Conventional\n(C)",
        headline: "âœ… (C) â€“ SI TERATUR & TELITI",
        intro: "Anak Anda menunjukkan tipe Conventional â€” suka rutinitas, rapi, dan merasa nyaman saat semua tertata jelas.",
        strengths: { title: "Apa kekuatan anak tipe Conventional?", points: ["ê¼¼ Teliti, suka mengikuti langkah demi langkah, dan bisa diandalkan.", "ğŸ“‹ Merasa nyaman saat semua berjalan sesuai aturan dan struktur.", "âœ¨ Sangat fokus dan bertanggung jawab dalam menyelesaikan tugas."] },
        challenges: { title: "Apa yang mungkin jadi tantangan?", points: ["ğŸ¤” Kadang ragu untuk mencoba hal baru atau berimprovisasi.", "ğŸš§ Bisa terlalu terpaku pada 'satu cara yang benar' dan kurang fleksibel."] }
      },
      cta: {
        intro: "Ingin tahu bagaimana CURIOOkids bisa bantu anak Anda meraih potensi terbaiknya?",
        text: "Yuk, ambil Tes Kepribadian Anak CURIOOkids (SmartStart) bersama teacher kami!",
        buttonText: "Klik di sini untuk booking sekarang"
      }
    };


    // --- Komponen yang Dapat Digunakan Kembali ---
    function Card({ children, className = '' }) {
        return (
            <div className={`bg-white rounded-2xl shadow-lg p-6 md:p-8 w-full ${className}`}>
                {children}
            </div>
        );
    }

    function Button({ children, onClick, className = '', disabled = false }) {
        return (
            <button
                onClick={onClick}
                disabled={disabled}
                className={`w-full text-center font-bold py-3 px-6 rounded-full transition-all duration-300 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 font-header ${className}`}
            >
                {children}
            </button>
        );
    }

    // --- Komponen Halaman ---
    function QuizPage({ answers, setAnswers, handleSubmit }) {
      const handleSelect = (questionId, type) => {
        setAnswers(prev => ({ ...prev, [questionId]: type }));
      };
      
      const allAnswered = Object.keys(answers).length === quizData.length;

      return (
        <div className="space-y-8">
          <div className="text-center">
            <h1 className="font-header text-3xl md:text-4xl font-extrabold text-[#2c2e83]">Apa Tipe Jenius Anak Anda?</h1>
            <p className="font-content mt-2 text-gray-600">Jawab 6 pertanyaan ini untuk mengetahuinya!</p>
          </div>
          <div className="space-y-6">
            {quizData.map((item, index) => (
              <Card key={item.id}>
                <p className="font-header font-bold text-lg text-gray-800 mb-4">{index + 1}. {item.question}</p>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                  {Object.entries(item.options).map(([key, option]) => (
                    <button
                      key={key}
                      onClick={() => handleSelect(item.id, option.type)}
                      className={`font-content p-4 rounded-lg text-left transition-all duration-200 border-2 ${answers[item.id] === option.type ? 'bg-[#2c2e83] text-white border-[#2c2e83] ring-2 ring-offset-2 ring-[#f78f1e]' : 'bg-gray-100 hover:bg-gray-200 border-transparent'}`}
                    >
                      {option.text}
                    </button>
                  ))}
                </div>
              </Card>
            ))}
          </div>
          <Button 
            onClick={handleSubmit} 
            disabled={!allAnswered}
            className="bg-[#f78f1e] text-white text-xl"
          >
            Lihat Hasilnya
          </Button>
        </div>
      );
    }

    function LeadFormPage({ handleFormSubmit, resultType }) {
      const [formData, setFormData] = useState({ 
          name: '', 
          email: '', 
          phone: '', 
          childAge: '', 
          consent: false, 
          result: resultType 
      });
      const [status, setStatus] = useState({ loading: false, error: '', success: '' });

      // URL Google Apps Script Anda yang baru sudah dimasukkan di sini.
      const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyCkgBwuks-mYgbWSoSRWeMz6WNwOm30cp9XgR4nWo963nRI-fdfrQnrk3ML1OXL9PmFg/exec';

      const handleChange = (e) => {
        const { name, value, type, checked } = e.target;
        setFormData(prev => ({
            ...prev,
            [name]: type === 'checkbox' ? checked : value
        }));
      };

      const onSubmit = (e) => {
        e.preventDefault();
        if (!formData.name || !formData.email || !formData.phone || !formData.childAge) {
          setStatus({ ...status, error: 'Mohon isi semua kolom untuk melihat hasil Anda.' });
          return;
        }

        setStatus({ loading: true, error: '', success: '' });
        
        const form = new FormData();
        for (const key in formData) {
            form.append(key, formData[key]);
        }

        fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            body: form
        })
        .then(response => response.json())
        .then(data => {
            if (data.result === "success") {
                setStatus({ loading: false, error: '', success: 'Data berhasil dikirim!' });
                setTimeout(() => { handleFormSubmit(); }, 1000);
            } else {
                throw new Error(data.error || 'Terjadi kesalahan pada server.');
            }
        })
        .catch(error => {
            console.error('Error submitting to Google Sheet:', error);
            setStatus({ loading: false, error: `Gagal mengirim data: ${error.message}`, success: '' });
        });
      };

      return (
        <Card className="max-w-lg mx-auto">
          <div className="text-center mb-6">
            <h2 className="font-header text-2xl md:text-3xl font-bold text-[#2c2e83]">Satu Langkah Lagi!</h2>
            <p className="font-content mt-2 text-gray-600">Isi data di bawah ini untuk membuka hasil tes.</p>
          </div>
          <form onSubmit={onSubmit} className="space-y-4">
            <div>
              <label htmlFor="name" className="font-content block text-sm font-medium text-gray-700 mb-1">Nama Orang Tua</label>
              <input type="text" name="name" id="name" value={formData.name} onChange={handleChange} className="font-content w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#f78f1e] focus:border-transparent" placeholder="contoh: Budi" required />
            </div>
            <div>
              <label htmlFor="email" className="font-content block text-sm font-medium text-gray-700 mb-1">Alamat Email</label>
              <input type="email" name="email" id="email" value={formData.email} onChange={handleChange} className="font-content w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#f78f1e] focus:border-transparent" placeholder="anda@email.com" required />
            </div>
            <div>
              <label htmlFor="phone" className="font-content block text-sm font-medium text-gray-700 mb-1">Nomor Telepon</label>
              <input type="tel" name="phone" id="phone" value={formData.phone} onChange={handleChange} className="font-content w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#f78f1e] focus:border-transparent" placeholder="08123456789" required />
            </div>
            <div>
              <label htmlFor="childAge" className="font-content block text-sm font-medium text-gray-700 mb-1">Usia Anak (Tahun)</label>
              <input type="number" name="childAge" id="childAge" value={formData.childAge} onChange={handleChange} className="font-content w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#f78f1e] focus:border-transparent" placeholder="contoh: 7" required />
            </div>
            <div className="flex items-start mt-4">
                <div className="flex items-center h-5">
                    <input
                        id="consent"
                        name="consent"
                        type="checkbox"
                        checked={formData.consent}
                        onChange={handleChange}
                        className="focus:ring-[#f78f1e] h-4 w-4 text-[#2c2e83] border-gray-300 rounded"
                    />
                </div>
                <div className="ml-3 text-sm">
                    <label htmlFor="consent" className="font-content text-gray-600">
                        Ya, saya bersedia dihubungi oleh tim CURIOO untuk informasi lebih lanjut mengenai program yang sesuai.
                    </label>
                </div>
            </div>
            
            {status.error && <p className="font-content text-red-500 text-sm text-center">{status.error}</p>}
            {status.success && <p className="font-content text-green-500 text-sm text-center">{status.success}</p>}
            
            <div className="pt-4">
              <Button type="submit" className="bg-[#f78f1e] text-white text-lg" disabled={status.loading}>
                {status.loading ? 'Mengirim...' : 'Lihat Hasil Saya!'}
              </Button>
            </div>
          </form>
        </Card>
      );
    }

    function ThankYouPage({ resultType }) {
      const result = resultData[resultType];
      const cta = resultData.cta;

      if (!result) {
        return (
          <Card>
            <h2 className="font-header text-2xl font-bold text-center text-[#2c2e83]">Hasil tidak ditemukan.</h2>
            <p className="font-content text-center mt-2">Silakan coba lagi kuisnya.</p>
          </Card>
        );
      }

      return (
        <Card className="max-w-4xl mx-auto animate-fade-in">
            <div className="grid md:grid-cols-2 gap-8 items-center">
                <img 
                    src={result.image} 
                    alt={`Placeholder untuk ${result.headline}`} 
                    className="w-full h-auto aspect-square object-cover rounded-lg shadow-md"
                />
                <div className="text-center md:text-left">
                    <h1 className="font-header text-3xl md:text-4xl font-extrabold text-[#2c2e83]">{result.headline}</h1>
                    <p className="font-content text-lg text-gray-700 mt-3">{result.intro}</p>
                </div>
            </div>

            <div className="grid md:grid-cols-2 gap-8 mt-8 text-left">
                <div className="bg-blue-50 p-6 rounded-lg">
                    <h3 className="font-header font-bold text-xl text-[#2c2e83] mb-3">{result.strengths.title}</h3>
                    <ul className="space-y-2 font-content">
                        {result.strengths.points.map((point, i) => <li key={i} className="text-gray-800">{point}</li>)}
                    </ul>
                </div>
                <div className="bg-orange-50 p-6 rounded-lg">
                    <h3 className="font-header font-bold text-xl text-[#f78f1e] mb-3">{result.challenges.title}</h3>
                    <ul className="space-y-2 font-content">
                        {result.challenges.points.map((point, i) => <li key={i} className="text-gray-800">{point}</li>)}
                    </ul>
                </div>
            </div>

            <div className="text-center mt-10 pt-8 border-t border-gray-200">
                <p className="font-header text-lg font-semibold text-gray-800">{cta.intro}</p>
                <p className="font-content text-md text-gray-600 mt-2">{cta.text}</p>
                <a
                    href="https://curioo.co.id/digital-form/"
                    target="_blank"
                    rel="noopener noreferrer"
                    className="font-header mt-6 inline-block bg-[#f78f1e] text-white font-bold py-3 px-10 rounded-full transition-all duration-300 ease-in-out transform hover:scale-105"
                >
                    ğŸ“ {cta.buttonText}
                </a>
            </div>
        </Card>
      );
    }


    // --- Komponen Aplikasi Utama ---
    function App() {
      const [page, setPage] = useState('quiz');
      const [answers, setAnswers] = useState({});
      const [result, setResult] = useState(null);

      const handleQuizSubmit = () => {
        const scores = { R: 0, I: 0, A: 0, S: 0, E: 0, C: 0 };
        Object.values(answers).forEach(type => { scores[type]++; });

        const highestScore = Math.max(...Object.values(scores));
        const resultType = Object.keys(scores).find(key => scores[key] === highestScore);
        
        setResult(resultType);
        setPage('form');
      };

      const handleFormSubmit = () => {
        setPage('thankyou');
      };

      const renderPage = () => {
        switch (page) {
          case 'quiz':
            return <QuizPage answers={answers} setAnswers={setAnswers} handleSubmit={handleQuizSubmit} />;
          case 'form':
            return <LeadFormPage handleFormSubmit={handleFormSubmit} resultType={result} />;
          case 'thankyou':
            return <ThankYouPage resultType={result} />;
          default:
            return <QuizPage answers={answers} setAnswers={setAnswers} handleSubmit={handleQuizSubmit} />;
        }
      };

      return (
        <main className="bg-gray-50 min-h-screen p-4 sm:p-6 md:p-8 flex items-center justify-center">
          <div className="w-full max-w-5xl">
            {renderPage()}
          </div>
        </main>
      );
    }

    const container = document.getElementById('root');
    if (container) {
      const root = ReactDOM.createRoot(container);
      root.render(<App />);
    } else {
        console.error("Target container 'root' not found in the DOM.");
    }
    
    </script>
</body>
</html>
